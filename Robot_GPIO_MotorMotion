import RPi.GPIO as GPIO
import time


def CheckSurrounding():

  sensor_right = GPIO.input(17)

  if sensor_right or sensor_left or sensor_center == 1:

     obstacle = True
  else: obstacle = False

  return obstacle


def TurnRight():

  p.ChangeDutyCycleu(50)
   
  GPIO.output(24, GPIO.LOW)
  
  time.sleep(2)

  p.ChangeDutyCycle(0)


def MoveForward():

  MotorsOn()

  time.sleep(2)

  MotorsOff()

  return


def MotorsOn():
    
  print("Move forward")

  p.ChangeDutyCycleu(100)

  GPIO.output(24, GPIO.HIGH)

  return


def MotorsOff():

  p.ChangeDutyCycle(0)

  print("Motors stop")

  return


GPIO.cleanup()

GPIO.setmode(GPIO.BCM)
GPIO.setup(24, GPIO.OUT)
GPIO.setup(18, GPIO.OUT)

GPIO.setup(17, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)

p = GPIO.PWM(18, 100)

p.start(0)

MotorsOff()


while True:

  MotorsOn()

  while True:

    if_obstacle = CheckSurrounding()

    if if_obstacle == True:

      MotorsOff()

      break

  TurnRight()



    







    
